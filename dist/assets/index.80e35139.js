var j=Object.defineProperty,O=Object.defineProperties;var Y=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var C=(t,r,s)=>r in t?j(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s,y=(t,r)=>{for(var s in r||(r={}))B.call(r,s)&&C(t,s,r[s]);if(b)for(var s of b(r))F.call(r,s)&&C(t,s,r[s]);return t},_=(t,r)=>O(t,Y(r));import{j as k,L as w,r as l,R as $,a as W,b as z,c as D,d as x,e as G,B as q}from"./vendor.8021e775.js";const K=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}};K();const e=k.exports.jsx,c=k.exports.jsxs;function P({headerColor:t,headerHide:r}){const s=t?"black":"",i=r?"hide":"";return c("div",{className:"header up "+s+" "+i,id:"header",children:[e("div",{className:"name_container",children:e(w,{to:"/",className:"name",style:{color:"#dddddd"},children:"Musical Bracelet"})}),c("div",{className:"links_container",children:[e(w,{to:"/songs",style:{color:"#dddddd"},children:"songs"}),e(w,{to:"/posts",style:{color:"#dddddd"},children:"posts"})]})]})}function J(){const[t,r]=l.exports.useState({hide:!1,color:!1}),s=l.exports.useRef(null),i=l.exports.useRef(window.scrollY||document.scrollTop);let n=window.scrollY||document.scrollTop;l.exports.useEffect(()=>(i.current=n,window.addEventListener("scroll",o),console.log(t),()=>window.removeEventListener("scroll",o)),[t]);const o=function(){let m=!1,u,g=t.hide,p=t.color;n=window.scrollY||document.scrollTop,n>i.current?u=!0:n<i.current&&(u=!1),i.current=n,u!==t.headerHide&&(m=!0,g=u),s.current.getBoundingClientRect().top<=50?t.color||(m=!0,p=!0):t.color&&(m=!0,p=!1),m&&r({hide:g,color:p})},{color:a,hide:h}=t;return c("div",{className:"Home",children:[e(P,{headerColor:a,headerHide:h}),c("div",{className:"home_page",children:[c("div",{className:"part first",children:[c("div",{className:"first_text",children:[e("div",{className:"first_title_container",children:e("h1",{className:"first_title",children:"Hello everyone, Welcome to our site!"})}),e("h3",{children:'Who we are? A pair of students in the "Computer Science" department of the Tel Aviv-Yafo Academy.'})]}),e("div",{className:"first_img_container",children:e("img",{src:"",alt:"a pic of two lovely students"})})]}),c("div",{className:"part second",ref:s,children:[e("div",{className:"second_title_container",children:e("h1",{className:"second_title",children:"the musical bracelet"})}),c("div",{className:"second_info",children:[e("div",{className:"second_info_text",children:e("h2",{children:"The musical bracelet is an Arduino-based device designed to make the world of musical creation accessible to those who could not before. With the help of hand gestures the user can produce sounds, record them if he wishes, and upload them to the site."})}),e("div",{className:"second_info_img_container",children:e("img",{src:"",alt:"a pic of a nice machinery / users using the bracelet",width:"500",height:"600"})})]})]}),e("div",{className:"part third",children:c("div",{className:"third_info",children:[e("div",{className:"third_up",children:"building the musical bracelet was not enough, as we see it, the power in music is that you can share it and make new connections and experiences and above all use it to express yourself and let people to get to know you trough your music. to accomplish this vision we've built this website, where you can share your experiences with the bracelet with other people"}),e("div",{className:"third_middle",children:c("div",{className:"circles",children:[c("div",{className:"circle_container",children:[e("div",{className:"circle",children:e("img",{src:"",alt:"a pic of posts"})}),e("h5",{children:" Post, Share, and hear others creations"})]}),c("div",{className:"circle_container",children:[e("div",{className:"circle",children:e("img",{src:"",alt:"a pic of songs"})}),e("h5",{children:" Learn to play some cool music with the music bracelet"})]})]})}),e("div",{className:"third_down",children:"Thanks for reading, enjoy."})]})})]})]})}function Q(){return c("div",{className:"Songs",children:[e(P,{}),c("div",{className:"page",children:[e("div",{className:"instructions",children:e("h1",{children:"Choose a song you'd like to learn"})}),c("div",{className:"songs_container",children:[e("div",{className:"song_container",children:e("h4",{children:"Hatikva"})}),e("div",{className:"song_container",children:e("h4",{children:"Yonatan Hakatan"})}),e("div",{className:"song_container",children:e("h4",{children:"No woman no cry"})})]})]})]})}const M=l.exports.createContext();function E(t){let s=0;s=~~(t/60),t=t-s*60,t=~~t;const i=s<10?"0"+s:s,n=t<10?"0"+t:t;return i+":"+n}function V({file:t,url:r,index:s}){const{currentPost:i,playing:n,setCurrentPost:o,setPlaying:a}=l.exports.useContext(M),[h,m]=l.exports.useState(0),[u,g]=l.exports.useState(0),[p,v]=l.exports.useState(0),f=l.exports.useRef("audio_tag");let N=!1;l.exports.useEffect(()=>{f.current.currentTime=u},[]);const S=d=>{d?(o(s),f.current.play()):(a(!1),f.current.pause())},A=d=>{N=!0;const T=d.target.value,R=h*T/100;f.current.currentTime=R,v(T),g(R),N=!1};i!==s&&n&&f.current.pause();const U=d=>{N||(g(d.target.currentTime),v(d.target.currentTime/h*100))},I=d=>{h===0&&m(d.target.duration),h===0&&(d.target.currentTime=u)};return c("div",{className:"post "+(s!==0?"border-top":""),children:[e("audio",{ref:f,onTimeUpdate:U,onCanPlay:I,type:"audio/mpeg",preload:"metadata",src:r+"/"+t.filename}),e("div",{className:"play-container",children:i===s&&n?e($,{size:25,onClick:()=>S(!1)}):e(W,{size:25,onClick:()=>S(!0)})}),c("div",{className:"slider-container",children:[e("div",{className:"purple-line",style:{width:p+"%"}}),e("input",{className:"slider",type:"range",name:"progresBar",id:"prgbar",value:p,onChange:A})]}),c("div",{className:"time",children:[E(u),"/",E(h)]})]},t._id)}const L="SET_CURRENT_POST",H="SET_PLAYING",X=(t,r)=>{switch(r.type){case L:return _(y({},t),{currentPost:r.data,playing:!0});case H:return _(y({},t),{playing:r.data});default:return t}},Z=t=>{const r={currentPost:0,playing:!1},[s,i]=l.exports.useReducer(X,r),n=a=>i({type:L,data:a}),o=a=>i({type:H,data:a});return e(M.Provider,{value:{currentPost:s.currentPost,playing:s.playing,setCurrentPost:n,setPlaying:o},children:t.children})};function ee(){const t="https://musical-bracelet-server.herokuapp.com/music",[r,s]=l.exports.useState(null),[i,n]=l.exports.useState("loading...");return l.exports.useEffect(()=>{(async()=>{try{const a=await z.get(t);console.log(a),s(a.data.files),n(null)}catch(a){n(a.message)}})()},[]),c("div",{className:"Posts",children:[e(P,{}),e("div",{className:"posts_container",children:e(Z,{children:i?e("div",{className:"err",children:i}):r.map((o,a)=>(console.log(t),e(V,{file:o,url:t,index:a})))})})]})}function te(){return c(D,{children:[e(x,{path:"/",element:e(J,{})}),e(x,{path:"/songs",element:e(Q,{})}),e(x,{path:"/posts",element:e(ee,{})})]})}G.render(e(q,{children:e(te,{})}),document.getElementById("root"));
